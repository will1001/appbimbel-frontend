(this.webpackJsonpview=this.webpackJsonpview||[]).push([[89],{73:function(e,t,a){"use strict";var n=a(124),l=a.n(n).a.create({baseURL:"https://wilirahmatm.xyz"});t.a=l},75:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(19),i=a(87),c=a.n(i);t.a=function(e){return l.a.createElement("div",{className:c.a.container,onClick:e.onClick},""===e.link?l.a.createElement("div",{className:c.a.nolink},e.title):l.a.createElement(r.b,{to:e.link},e.title))}},87:function(e,t,a){e.exports={container:"styles_container__2qmjW",nolink:"styles_nolink__1-KRX"}},880:function(e,t,a){"use strict";a.r(t);var n=a(85),l=a.n(n),r=a(109),i=a(20),c=a(114),u=a(0),o=a.n(u),s=a(429),m=a(626),d=a(627),p=a.n(d),b=(a(628),a(973)),E=a.n(b),f=a(73),h=a(75),_=a(98),v=a(97);t.default=function(e){var t=Object(u.useState)(!1),n=Object(c.a)(t,2),d=n[0],b=n[1],g=Object(u.useState)(!1),j=Object(c.a)(g,2),O=j[0],k=j[1],y=Object(u.useState)([]),S=Object(c.a)(y,2),C=S[0],w=S[1],D=Object(u.useState)([]),x=Object(c.a)(D,2),R=x[0],T=x[1],B=Object(u.useState)(""),F=Object(c.a)(B,2),I=F[0],L=F[1],N=Object(u.useState)(""),V=Object(c.a)(N,2),P=V[0],M=V[1],z=Object(u.useState)(""),J=Object(c.a)(z,2),U=J[0],A=J[1],K=Object(u.useState)(""),q=Object(c.a)(K,2),G=q[0],H=q[1],W=Object(u.useState)([]),X=Object(c.a)(W,2),Q=X[0],Y=X[1],Z=Object(u.useState)([]),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(u.useState)([])),te=Object(c.a)(ee,2),ae=(te[0],te[1],Object(u.useState)([])),ne=Object(c.a)(ae,2),le=ne[0],re=ne[1],ie=Object(u.useState)([]),ce=Object(c.a)(ie,2),ue=ce[0],oe=ce[1],se=Object(u.useState)(new FormData),me=Object(c.a)(se,2),de=me[0],pe=(me[1],Object(u.useState)("")),be=Object(c.a)(pe,2),Ee=(be[0],be[1],Object(u.useState)("")),fe=Object(c.a)(Ee,2),he=(fe[0],fe[1],Object(u.useState)("")),_e=Object(c.a)(he,2),ve=_e[0],ge=_e[1],je=Object(u.useState)(""),Oe=Object(c.a)(je,2),ke=Oe[0],ye=Oe[1],Se=Object(u.useState)(""),Ce=Object(c.a)(Se,2),we=(Ce[0],Ce[1],Object(u.useState)(new FormData)),De=Object(c.a)(we,2),xe=De[0],Re=(De[1],s.EditorState.createEmpty()),Te=Object(u.useState)(Re),Be=Object(c.a)(Te,2),Fe=Be[0],Ie=Be[1],Le=function(e){ge(e.target.value)},Ne=function(e){ye(e.target.value)},Ve=o.a.createElement("div",{className:E.a.panel_input_review},o.a.createElement("div",{className:E.a.panel_input_review_layer_inside},o.a.createElement("h1",null,"Buat Video Materi"),o.a.createElement("input",{type:"text",placeholder:"Judul Video",onChange:function(e){L(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",placeholder:"Tutor",onChange:function(e){M(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h5",null,"Deskripsi :"),o.a.createElement("div",{className:E.a.editor_style},o.a.createElement(m.Editor,{editorState:Fe,onEditorStateChange:function(e){Ie(e)}})),o.a.createElement("textarea",{style:{display:"none"},disabled:!0,value:p()(Object(s.convertToRaw)(Fe.getCurrentContent()))}),o.a.createElement("span",null,"Poin : ")," ",o.a.createElement("input",{type:"number",min:0,onChange:function(e){T(Array(parseInt(e.target.value)).fill(0)),w(Array(parseInt(e.target.value)).fill("aaa"))}}),o.a.createElement("br",null),o.a.createElement("br",null),R.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("span",null,"Poin ",t+1," : "),o.a.createElement("input",{type:"text",onChange:function(e){!function(e,t){var a=Object(i.a)(C);a[t]=e.target.value,w(a)}(e,t)}}))})),o.a.createElement("br",null),o.a.createElement("span",null,"Bab "),o.a.createElement("select",{value:ve,onChange:Le},o.a.createElement("option",{value:"",disabled:!0}),le.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement("span",null,"Sub Bab "),o.a.createElement("select",{value:ke,onChange:Ne},o.a.createElement("option",{value:"",disabled:!0}),ue.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",null,"Thumbnail : "),o.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];A("thumbnail_"+n+"."+l),FileReader&&t&&t.length&&(xe.append("name","thumbnail_"+n),xe.append("name_before","thumbnail_"+n),xe.append("file",t[0]))}.bind(this),className:"filetype"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",null,"Upload Video : "),o.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];H("video_materi_"+ve+"_"+ke+"_"+n+"."+l),FileReader&&t&&t.length&&(de.append("name","video_materi_"+ve+"_"+ke+"_"+n),de.append("name_before","video_materi_"+ve+"_"+ke+"_"+n),de.append("file",t[0]))}.bind(this)}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(h.a,{link:"",title:"cancel",onClick:function(){b((function(e){return!e}))}}),o.a.createElement(h.a,{link:"",title:"save",onClick:function(){return function(){if(null!==de&&""!==I&&""!==P&&""!==p()(Object(s.convertToRaw)(Fe.getCurrentContent()))&&""!==ke){var e="/uploads/"+G,t="/uploads/"+U,a={judul:I,nomor:Q.length+1,tutor:P,deskripsi:p()(Object(s.convertToRaw)(Fe.getCurrentContent())),poin:"["+C.toString()+"]",thumbnail:t,link_video:e,id_sub_bab:ke};f.a.post("/video_materi",a).then((function(e){console.log(e),k(!0),b((function(e){return!e})),k(!1)})),f.a.post("/file_upload",de).then((function(e){console.log(e)})),f.a.post("/file_upload",xe).then((function(e){console.log(e)}))}else alert("Isi Semua Data")}()}}))),Pe=o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Video Materi"),o.a.createElement(h.a,{link:"",title:"Tambah Video Materi",onClick:function(){b((function(e){return!e}))}}),o.a.createElement("h3",null,"Filter"),o.a.createElement("span",null,"Bab "),o.a.createElement("select",{value:ve,onChange:Le},o.a.createElement("option",{value:"",disabled:!0}),le.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement("span",null,"Sub Bab "),o.a.createElement("select",{value:ke,onChange:Ne},o.a.createElement("option",{value:"",disabled:!0}),ue.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement(h.a,{link:"",title:"Terapkan",onClick:function(){return ze()}}),o.a.createElement(h.a,{link:"",title:"Reset",onClick:function(){return ge(""),void ye("")}}),o.a.createElement(_.a,{dropID:"drop-1",handleOnDragEnd:function(e){var t=Q,a=e.source.index,n=e.destination.index;if(n>=t.length)for(var l=n-t.length+1;l--;)t.push(void 0);t.splice(n,0,t.splice(a,1)[0]);for(var r=[],i=0;i<t.length;i++){var c={id:t[i].id,nomor:i+1};r.push(c)}var u={data_nomor:r};f.a.put("/video_materi",u).then((function(e){200==e.status&&(Y([]),Me(),k(!0))}))},thList:["no","tutor","deskripsi","judul","Sub Bab","Thumbnail","Video","Status",""],tdList:Q.map((function(e,t){return o.a.createElement(v.b,{key:e.id,draggableId:e.id,index:t},(function(t,n){return o.a.createElement("tr",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement("td",null,e.nomor),o.a.createElement("td",null,e.tutor),o.a.createElement("td",null,e.Deskripsi.length<70?e.Deskripsi:e.Deskripsi.substring(0,70)+". . ."," "),o.a.createElement("td",null,e.judul),o.a.createElement("td",null,e.sub_bab),o.a.createElement("td",null,o.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.thumbnail},"Lihat")),o.a.createElement("td",null,o.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.link_video},"Lihat")),o.a.createElement("td",null,e.status),o.a.createElement("td",null,o.a.createElement("a",{href:"#0",onClick:function(){return function(e){var t=a(117);t=t.stringify({id:e.id}),f.a.delete("/video_materi",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then((function(e){console.log(e),201===e.status&&(k(!0),k(!0),k(!0))}))}(e)}},"hapus"),"||",o.a.createElement("a",{href:"#0",onClick:function(){return function(e){var t={id:e.id,judul:e.judul,nomor:e.nomor,tutor:e.tutor,deskripsi:e.Deskripsi,poin:e.poin,thumbnail:e.thumbnail,link_video:e.link_video,status:"publish"==e.status?"no publish":"publish",id_sub_bab:e.id_sub_bab};f.a.put("/video_materi",t).then((function(e){console.log(e),200==e.status&&(Y([]),Me(),k(!0))}))}(e)}},"publish"==e.status?"no publish":"publish")))}))}))})),Me=function(){f.a.get("/video_materi").then((function(e){Y(e.data)}))},ze=function(){""!==ke&&f.a.get("/video_materi?id_sub_bab="+ke).then((function(e){Y(e.data)}))};return Object(u.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me(),f.a.get("/bab_soal?id_mapel=1").then((function(e){re(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),""!==ve&&f.a.get("/subBab_soal?id_bab="+ve).then((function(e){oe(e.data)})),O&&(Me(),k(!1))}),[ve,O]),o.a.createElement("div",{className:E.a.container},d?Ve:Pe)}},973:function(e,t,a){e.exports={container:"styles_container__mKMpn",panel_input_review:"styles_panel_input_review__1CGhU",editor_style:"styles_editor_style__8pyD7"}},98:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=(a(99),a(73),a(75),a(97));t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{onDragEnd:e.handleOnDragEnd},l.a.createElement("table",{style:{width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,e.thList.map((function(e,t){return l.a.createElement("th",{key:t},e)})))),l.a.createElement(r.c,{droppableId:e.dropID},(function(t,a){return l.a.createElement("tbody",Object.assign({ref:t.innerRef},t.droppableProps),e.tdList,t.placeholder)})))))}},99:function(e,t,a){}}]);
//# sourceMappingURL=89.c6a06e56.chunk.js.map