(this.webpackJsonpview=this.webpackJsonpview||[]).push([[89],{73:function(e,t,a){"use strict";var n=a(124),l=a.n(n).a.create({baseURL:"https://wilirahmatm.xyz"});t.a=l},75:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(19),i=a(87),c=a.n(i);t.a=function(e){return l.a.createElement("div",{className:c.a.container,onClick:e.onClick},""===e.link?l.a.createElement("div",{className:c.a.nolink},e.title):l.a.createElement(r.b,{to:e.link},e.title))}},87:function(e,t,a){e.exports={container:"styles_container__2qmjW",nolink:"styles_nolink__1-KRX"}},880:function(e,t,a){"use strict";a.r(t);var n=a(85),l=a.n(n),r=a(109),i=a(114),c=a(0),u=a.n(c),o=a(429),s=a(626),m=a(627),d=a.n(m),p=(a(628),a(973)),b=a.n(p),E=a(73),f=a(75),h=a(98),_=a(97);t.default=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),m=n[0],p=n[1],v=Object(c.useState)(!1),j=Object(i.a)(v,2),g=j[0],O=j[1],k=Object(c.useState)([]),y=Object(i.a)(k,2),S=y[0],C=y[1],w=Object(c.useState)(""),x=Object(i.a)(w,2),D=x[0],R=x[1],T=Object(c.useState)(""),B=Object(i.a)(T,2),F=B[0],L=B[1],N=Object(c.useState)(""),I=Object(i.a)(N,2),V=I[0],P=I[1],M=Object(c.useState)(""),z=Object(i.a)(M,2),J=z[0],U=z[1],K=Object(c.useState)([]),q=Object(i.a)(K,2),A=q[0],G=q[1],H=Object(c.useState)([]),W=Object(i.a)(H,2),X=(W[0],W[1],Object(c.useState)([])),Q=Object(i.a)(X,2),Y=(Q[0],Q[1],Object(c.useState)([])),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(c.useState)([]),ae=Object(i.a)(te,2),ne=ae[0],le=ae[1],re=Object(c.useState)(new FormData),ie=Object(i.a)(re,2),ce=ie[0],ue=(ie[1],Object(c.useState)("")),oe=Object(i.a)(ue,2),se=(oe[0],oe[1],Object(c.useState)("")),me=Object(i.a)(se,2),de=(me[0],me[1],Object(c.useState)("")),pe=Object(i.a)(de,2),be=pe[0],Ee=pe[1],fe=Object(c.useState)(""),he=Object(i.a)(fe,2),_e=he[0],ve=he[1],je=Object(c.useState)(""),ge=Object(i.a)(je,2),Oe=(ge[0],ge[1],Object(c.useState)(new FormData)),ke=Object(i.a)(Oe,2),ye=ke[0],Se=(ke[1],o.EditorState.createEmpty()),Ce=Object(c.useState)(Se),we=Object(i.a)(Ce,2),xe=we[0],De=we[1],Re=function(e){Ee(e.target.value)},Te=function(e){ve(e.target.value)},Be=u.a.createElement("div",{className:b.a.panel_input_review},u.a.createElement("div",{className:b.a.panel_input_review_layer_inside},u.a.createElement("h1",null,"Buat Video Materi"),u.a.createElement("input",{type:"text",placeholder:"Judul Video",onChange:function(e){R(e.target.value)}}),u.a.createElement("br",null),u.a.createElement("input",{type:"text",placeholder:"Tutor",onChange:function(e){L(e.target.value)}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h5",null,"Deskripsi :"),u.a.createElement("div",{className:b.a.editor_style},u.a.createElement(s.Editor,{editorState:xe,onEditorStateChange:function(e){De(e)}})),u.a.createElement("textarea",{style:{display:"none"},disabled:!0,value:d()(Object(o.convertToRaw)(xe.getCurrentContent()))}),u.a.createElement("span",null,"Poin : ")," ",u.a.createElement("input",{type:"number",min:0,onChange:function(e){C(Array(parseInt(e.target.value)).fill(0)),console.log(S)}}),u.a.createElement("br",null),u.a.createElement("br",null),S.map((function(e,t){return u.a.createElement("div",{key:t},u.a.createElement("span",null,"Poin ",t+1," : "),u.a.createElement("input",{type:"text"}))})),u.a.createElement("br",null),u.a.createElement("span",null,"Bab "),u.a.createElement("select",{value:be,onChange:Re},u.a.createElement("option",{value:"",disabled:!0}),$.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("span",null,"Sub Bab "),u.a.createElement("select",{value:_e,onChange:Te},u.a.createElement("option",{value:"",disabled:!0}),ne.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("span",null,"Thumbnail : "),u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];P("thumbnail_"+n+"."+l),FileReader&&t&&t.length&&(ye.append("name","thumbnail_"+n),ye.append("name_before","thumbnail_"+n),ye.append("file",t[0]))}.bind(this),className:"filetype"}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("span",null,"Upload Video : "),u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];U("video_materi_"+be+"_"+_e+"_"+n+"."+l),FileReader&&t&&t.length&&(ce.append("name","video_materi_"+be+"_"+_e+"_"+n),ce.append("name_before","video_materi_"+be+"_"+_e+"_"+n),ce.append("file",t[0]))}.bind(this)}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,{link:"",title:"cancel",onClick:function(){p((function(e){return!e}))}}),u.a.createElement(f.a,{link:"",title:"save",onClick:function(){return function(){if(null!==ce&&""!==D&&""!==F&&""!==d()(Object(o.convertToRaw)(xe.getCurrentContent()))&&""!==_e){var e="/uploads/"+J,t="/uploads/"+V,a={judul:D,nomor:A.length+1,tutor:F,deskripsi:d()(Object(o.convertToRaw)(xe.getCurrentContent())),thumbnail:t,link_video:e,id_sub_bab:_e};E.a.post("/video_materi",a).then((function(e){console.log(e),O(!0),p((function(e){return!e})),O(!1)})),E.a.post("/file_upload",ce).then((function(e){console.log(e)})),E.a.post("/file_upload",ye).then((function(e){console.log(e)}))}else alert("Isi Semua Data")}()}}))),Fe=u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,"Video Materi"),u.a.createElement(f.a,{link:"",title:"Tambah Video Materi",onClick:function(){p((function(e){return!e}))}}),u.a.createElement("h3",null,"Filter"),u.a.createElement("span",null,"Bab "),u.a.createElement("select",{value:be,onChange:Re},u.a.createElement("option",{value:"",disabled:!0}),$.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("span",null,"Sub Bab "),u.a.createElement("select",{value:_e,onChange:Te},u.a.createElement("option",{value:"",disabled:!0}),ne.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement(f.a,{link:"",title:"Terapkan",onClick:function(){return Ne()}}),u.a.createElement(f.a,{link:"",title:"Reset",onClick:function(){return Ee(""),void ve("")}}),u.a.createElement(h.a,{dropID:"drop-1",handleOnDragEnd:function(e){var t=A,a=e.source.index,n=e.destination.index;if(n>=t.length)for(var l=n-t.length+1;l--;)t.push(void 0);t.splice(n,0,t.splice(a,1)[0]);for(var r=[],i=0;i<t.length;i++){var c={id:t[i].id,nomor:i+1};r.push(c)}var u={data_nomor:r};E.a.put("/video_materi",u).then((function(e){200==e.status&&(G([]),Le(),O(!0))}))},thList:["no","tutor","deskripsi","judul","Sub Bab","Thumbnail","Video","Status",""],tdList:A.map((function(e,t){return u.a.createElement(_.b,{key:e.id,draggableId:e.id,index:t},(function(t,n){return u.a.createElement("tr",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),u.a.createElement("td",null,e.nomor),u.a.createElement("td",null,e.tutor),u.a.createElement("td",null,e.Deskripsi," . . ."),u.a.createElement("td",null,e.judul),u.a.createElement("td",null,e.sub_bab),u.a.createElement("td",null,u.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.thumbnail},"Lihat")),u.a.createElement("td",null,u.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.link_video},"Lihat")),u.a.createElement("td",null,e.status),u.a.createElement("td",null,u.a.createElement("a",{href:"#0",onClick:function(){return function(e){var t=a(117);t=t.stringify({id:e.id}),E.a.delete("/video_materi",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then((function(e){console.log(e),201===e.status&&(O(!0),O(!0),O(!0))}))}(e)}},"hapus")))}))}))})),Le=function(){E.a.get("/video_materi").then((function(e){G(e.data)}))},Ne=function(){""!==_e&&E.a.get("/video_materi?id_sub_bab="+_e).then((function(e){G(e.data)}))};return Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le(),E.a.get("/bab_soal?id_mapel=1").then((function(e){ee(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),""!==be&&E.a.get("/subBab_soal?id_bab="+be).then((function(e){le(e.data)})),g&&(Le(),O(!1))}),[be,g]),u.a.createElement("div",{className:b.a.container},m?Be:Fe)}},973:function(e,t,a){e.exports={container:"styles_container__mKMpn",panel_input_review:"styles_panel_input_review__1CGhU",editor_style:"styles_editor_style__8pyD7"}},98:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=(a(99),a(73),a(75),a(97));t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{onDragEnd:e.handleOnDragEnd},l.a.createElement("table",{style:{width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,e.thList.map((function(e,t){return l.a.createElement("th",{key:t},e)})))),l.a.createElement(r.c,{droppableId:e.dropID},(function(t,a){return l.a.createElement("tbody",Object.assign({ref:t.innerRef},t.droppableProps),e.tdList,t.placeholder)})))))}},99:function(e,t,a){}}]);
//# sourceMappingURL=89.5ca6e9cf.chunk.js.map