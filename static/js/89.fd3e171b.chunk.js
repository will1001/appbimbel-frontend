(this.webpackJsonpview=this.webpackJsonpview||[]).push([[89],{73:function(e,t,a){"use strict";var n=a(124),l=a.n(n).a.create({baseURL:"https://wilirahmatm.xyz"});t.a=l},75:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(19),i=a(87),c=a.n(i);t.a=function(e){return l.a.createElement("div",{className:c.a.container,onClick:e.onClick},""===e.link?l.a.createElement("div",{className:c.a.nolink},e.title):l.a.createElement(r.b,{to:e.link},e.title))}},87:function(e,t,a){e.exports={container:"styles_container__2qmjW",nolink:"styles_nolink__1-KRX"}},880:function(e,t,a){"use strict";a.r(t);var n=a(85),l=a.n(n),r=a(109),i=a(114),c=a(0),u=a.n(c),o=a(429),s=a(626),m=a(627),d=a.n(m),p=(a(628),a(973)),b=a.n(p),E=a(73),f=a(75),h=a(98),_=a(97);t.default=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),m=n[0],p=n[1],v=Object(c.useState)(!1),j=Object(i.a)(v,2),g=j[0],O=j[1],k=Object(c.useState)(""),y=Object(i.a)(k,2),S=y[0],C=y[1],w=Object(c.useState)(""),x=Object(i.a)(w,2),D=x[0],R=x[1],T=Object(c.useState)(""),B=Object(i.a)(T,2),F=B[0],L=B[1],N=Object(c.useState)(""),V=Object(i.a)(N,2),I=V[0],M=V[1],z=Object(c.useState)([]),J=Object(i.a)(z,2),P=J[0],U=J[1],K=Object(c.useState)([]),q=Object(i.a)(K,2),G=(q[0],q[1],Object(c.useState)([])),H=Object(i.a)(G,2),W=(H[0],H[1],Object(c.useState)([])),X=Object(i.a)(W,2),A=X[0],Q=X[1],Y=Object(c.useState)([]),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(c.useState)(new FormData),ae=Object(i.a)(te,2),ne=ae[0],le=(ae[1],Object(c.useState)("")),re=Object(i.a)(le,2),ie=(re[0],re[1],Object(c.useState)("")),ce=Object(i.a)(ie,2),ue=(ce[0],ce[1],Object(c.useState)("")),oe=Object(i.a)(ue,2),se=oe[0],me=oe[1],de=Object(c.useState)(""),pe=Object(i.a)(de,2),be=pe[0],Ee=pe[1],fe=Object(c.useState)(""),he=Object(i.a)(fe,2),_e=(he[0],he[1],Object(c.useState)(new FormData)),ve=Object(i.a)(_e,2),je=ve[0],ge=(ve[1],o.EditorState.createEmpty()),Oe=Object(c.useState)(ge),ke=Object(i.a)(Oe,2),ye=ke[0],Se=ke[1],Ce=function(e){me(e.target.value)},we=function(e){Ee(e.target.value)},xe=u.a.createElement("div",{className:b.a.panel_input_review},u.a.createElement("div",{className:b.a.panel_input_review_layer_inside},u.a.createElement("h1",null,"Buat Video Materi"),u.a.createElement("input",{type:"text",placeholder:"Judul Video",onChange:function(e){C(e.target.value)}}),u.a.createElement("br",null),u.a.createElement("input",{type:"text",placeholder:"Tutor",onChange:function(e){R(e.target.value)}}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h5",null,"Deskripsi :"),u.a.createElement("div",{className:b.a.editor_style},u.a.createElement(s.Editor,{editorState:ye,onEditorStateChange:function(e){Se(e)}})),u.a.createElement("textarea",{style:{display:"none"},disabled:!0,value:d()(Object(o.convertToRaw)(ye.getCurrentContent()))}),u.a.createElement("br",null),u.a.createElement("span",null,"Bab "),u.a.createElement("select",{value:se,onChange:Ce},u.a.createElement("option",{value:"",disabled:!0}),A.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("span",null,"Sub Bab "),u.a.createElement("select",{value:be,onChange:we},u.a.createElement("option",{value:"",disabled:!0}),$.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("span",null,"Thumbnail : "),u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];L("thumbnail_"+n+"."+l),FileReader&&t&&t.length&&(je.append("name","thumbnail_"+n),je.append("name_before","thumbnail_"+n),je.append("file",t[0]))}.bind(this),className:"filetype"}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("span",null,"Upload Video : "),u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];M("video_materi_"+se+"_"+be+"_"+n+"."+l),FileReader&&t&&t.length&&(ne.append("name","video_materi_"+se+"_"+be+"_"+n),ne.append("name_before","video_materi_"+se+"_"+be+"_"+n),ne.append("file",t[0]))}.bind(this)}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,{link:"",title:"cancel",onClick:function(){p((function(e){return!e}))}}),u.a.createElement(f.a,{link:"",title:"save",onClick:function(){return function(){if(null!==ne&&""!==S&&""!==D&&""!==d()(Object(o.convertToRaw)(ye.getCurrentContent()))&&""!==be){var e="/uploads/"+I,t="/uploads/"+F,a={judul:S,nomor:P.length+1,tutor:D,deskripsi:d()(Object(o.convertToRaw)(ye.getCurrentContent())),thumbnail:t,link_video:e,id_sub_bab:be};E.a.post("/video_materi",a).then((function(e){console.log(e),O(!0),p((function(e){return!e})),O(!1)})),E.a.post("/file_upload",ne).then((function(e){console.log(e)})),E.a.post("/file_upload",je).then((function(e){console.log(e)}))}else alert("Isi Semua Data")}()}}))),De=u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,"Video Materi"),u.a.createElement(f.a,{link:"",title:"Tambah Video Materi",onClick:function(){p((function(e){return!e}))}}),u.a.createElement("h3",null,"Filter"),u.a.createElement("span",null,"Bab "),u.a.createElement("select",{value:se,onChange:Ce},u.a.createElement("option",{value:"",disabled:!0}),A.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement("span",null,"Sub Bab "),u.a.createElement("select",{value:be,onChange:we},u.a.createElement("option",{value:"",disabled:!0}),$.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),u.a.createElement("br",null),u.a.createElement(f.a,{link:"",title:"Terapkan",onClick:function(){return Te()}}),u.a.createElement(f.a,{link:"",title:"Reset",onClick:function(){return me(""),void Ee("")}}),u.a.createElement(h.a,{dropID:"drop-1",handleOnDragEnd:function(e){var t=P,a=e.source.index,n=e.destination.index;if(n>=t.length)for(var l=n-t.length+1;l--;)t.push(void 0);t.splice(n,0,t.splice(a,1)[0]);for(var r=[],i=0;i<t.length;i++){var c={id:t[i].id,nomor:i+1};r.push(c)}var u={data_nomor:r};E.a.put("/video_materi",u).then((function(e){200==e.status&&(U([]),Re(),O(!0))}))},thList:["no","tutor","deskripsi","judul","Sub Bab","Thumbnail","Video","Status",""],tdList:P.map((function(e,t){return u.a.createElement(_.b,{key:e.id,draggableId:e.id,index:t},(function(t,n){return u.a.createElement("tr",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),u.a.createElement("td",null,e.nomor),u.a.createElement("td",null,e.tutor),u.a.createElement("td",null,e.Deskripsi," . . ."),u.a.createElement("td",null,e.judul),u.a.createElement("td",null,e.sub_bab),u.a.createElement("td",null,u.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.thumbnail},"Lihat")),u.a.createElement("td",null,u.a.createElement("a",{href:"https://wilirahmatm.xyz"+e.link_video},"Lihat")),u.a.createElement("td",null,e.status),u.a.createElement("td",null,u.a.createElement("a",{href:"#0",onClick:function(){return function(e){var t=a(117);t=t.stringify({id:e.id}),E.a.delete("/video_materi",{headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then((function(e){console.log(e),201===e.status&&(O(!0),O(!0),O(!0))}))}(e)}},"hapus")))}))}))})),Re=function(){E.a.get("/video_materi").then((function(e){U(e.data)}))},Te=function(){""!==be&&E.a.get("/video_materi?id_sub_bab="+be).then((function(e){U(e.data)}))};return Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Re(),E.a.get("/bab_soal?id_mapel=1").then((function(e){Q(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),""!==se&&E.a.get("/subBab_soal?id_bab="+se).then((function(e){ee(e.data)})),g&&(Re(),O(!1))}),[se,g]),u.a.createElement("div",{className:b.a.container},m?xe:De)}},973:function(e,t,a){e.exports={container:"styles_container__mKMpn",panel_input_review:"styles_panel_input_review__1CGhU",editor_style:"styles_editor_style__8pyD7"}},98:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=(a(99),a(73),a(75),a(97));t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{onDragEnd:e.handleOnDragEnd},l.a.createElement("table",{style:{width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,e.thList.map((function(e,t){return l.a.createElement("th",{key:t},e)})))),l.a.createElement(r.c,{droppableId:e.dropID},(function(t,a){return l.a.createElement("tbody",Object.assign({ref:t.innerRef},t.droppableProps),e.tdList,t.placeholder)})))))}},99:function(e,t,a){}}]);
//# sourceMappingURL=89.fd3e171b.chunk.js.map