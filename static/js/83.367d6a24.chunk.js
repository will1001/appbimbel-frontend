(this.webpackJsonpview=this.webpackJsonpview||[]).push([[83],{114:function(e,t,a){"use strict";var n=a(175),l=a.n(n).a.create({baseURL:"https://wilirahmatm.xyz"});t.a=l},118:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(19),i=a(138),c=a.n(i);t.a=function(e){return l.a.createElement("div",{className:c.a.container,onClick:e.onClick},""===e.link?l.a.createElement("div",{className:c.a.nolink},e.title):l.a.createElement(r.b,{to:e.link},e.title))}},138:function(e,t,a){e.exports={container:"styles_container__2qmjW",nolink:"styles_nolink__1-KRX"}},224:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=(a(225),a(114),a(118),a(219));t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{onDragEnd:e.handleOnDragEnd},l.a.createElement("table",{style:{width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,e.thList.map((function(e,t){return l.a.createElement("th",{key:t},e)})))),l.a.createElement(r.c,{droppableId:e.dropID},(function(t,a){return l.a.createElement("tbody",Object.assign({ref:t.innerRef},t.droppableProps),e.tdList,t.placeholder)})))))}},225:function(e,t,a){},864:function(e,t,a){"use strict";a.r(t);var n=a(101),l=a.n(n),r=a(153),i=a(163),c=a(0),o=a.n(c),u=a(588),s=a(957),d=a(958),m=a.n(d),p=(a(959),a(960)),b=a.n(p),E=a(114),f=a(118),_=a(224),v=a(219);t.default=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],d=a[1],p=Object(c.useState)(!1),h=Object(i.a)(p,2),j=h[0],O=h[1],g=Object(c.useState)(""),k=Object(i.a)(g,2),y=k[0],S=k[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),x=C[0],D=C[1],R=Object(c.useState)(""),N=Object(i.a)(R,2),I=N[0],L=N[1],T=Object(c.useState)([]),V=Object(i.a)(T,2),B=V[0],F=V[1],J=Object(c.useState)([]),M=Object(i.a)(J,2),P=(M[0],M[1],Object(c.useState)([])),U=Object(i.a)(P,2),z=(U[0],U[1],Object(c.useState)([])),K=Object(i.a)(z,2),q=K[0],G=K[1],H=Object(c.useState)([]),W=Object(i.a)(H,2),X=W[0],A=W[1],Q=Object(c.useState)(new FormData),Y=Object(i.a)(Q,2),Z=Y[0],$=(Y[1],Object(c.useState)("")),ee=Object(i.a)($,2),te=(ee[0],ee[1],Object(c.useState)("")),ae=Object(i.a)(te,2),ne=(ae[0],ae[1],Object(c.useState)("")),le=Object(i.a)(ne,2),re=le[0],ie=le[1],ce=Object(c.useState)(""),oe=Object(i.a)(ce,2),ue=oe[0],se=oe[1],de=u.EditorState.createEmpty(),me=Object(c.useState)(de),pe=Object(i.a)(me,2),be=pe[0],Ee=pe[1],fe=o.a.createElement("div",{className:b.a.panel_input_review},o.a.createElement("div",{className:b.a.panel_input_review_layer_inside},o.a.createElement("h1",null,"Buat Video Materi"),o.a.createElement("input",{type:"text",placeholder:"Judul Video",onChange:function(e){S(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("input",{type:"text",placeholder:"Tutor",onChange:function(e){D(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h5",null,"Deskripsi :"),o.a.createElement("div",{className:b.a.editor_style},o.a.createElement(s.Editor,{editorState:be,onEditorStateChange:function(e){Ee(e)}})),o.a.createElement("textarea",{style:{display:"none"},disabled:!0,value:m()(Object(u.convertToRaw)(be.getCurrentContent()))}),o.a.createElement("br",null),o.a.createElement("span",null,"Bab "),o.a.createElement("select",{value:re,onChange:function(e){ie(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0}),q.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement("span",null,"Sub Bab "),o.a.createElement("select",{value:ue,onChange:function(e){se(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0}),X.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.deskripsi)}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",null,"Upload Video : "),o.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files,a=t[0].name.split(".").length,n=Date.now(),l=t[0].name.split(".")[a-1];L("video_materi_"+re+"_"+ue+"_"+n+"."+l),FileReader&&t&&t.length&&(Z.append("name","video_materi_"+re+"_"+ue+"_"+n),Z.append("file",t[0]))}.bind(this)}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{link:"",title:"cancel",onClick:function(){d((function(e){return!e}))}}),o.a.createElement(f.a,{link:"",title:"save",onClick:function(){return function(){if(null!==Z&&""!==y&&""!==x&&""!==m()(Object(u.convertToRaw)(be.getCurrentContent()))&&""!==ue&&""!==re){var e="https://wilirahmatm.xyz/uploads/"+I,t={judul:y,tutor:x,deskripsi:m()(Object(u.convertToRaw)(be.getCurrentContent())),link_video:e,id_sub_bab:ue,id_bab:re};E.a.post("/video_materi",t).then((function(e){console.log(e)})),E.a.post("/file_upload",Z).then((function(e){console.log(e)})),O(!0),d((function(e){return!e})),O(!1)}else alert("Isi Semua Data")}()}}))),_e=o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Review"),o.a.createElement(f.a,{link:"",title:"Tambah Video Materi",onClick:function(){d((function(e){return!e}))}}),o.a.createElement(_.a,{dropID:"drop-1",handleOnDragEnd:function(e){var t=B,a=e.source.index,n=e.destination.index;if(n>=t.length)for(var l=n-t.length+1;l--;)t.push(void 0);t.splice(n,0,t.splice(a,1)[0]),console.log("arr"),console.log(t);for(var r=[],i=0;i<t.length;i++){var c={id:t[i].id,nomor:i+1};r.push(c)}var o={data_nomor:r};E.a.put("/video_materi",o).then((function(e){console.log(e),200==e.status&&(F([]),ve(),O(!0))}))},thList:["no","tutor","deskripsi","judul","Video"],tdList:B.map((function(e,t){return o.a.createElement(v.b,{key:e.id,draggableId:e.id,index:t},(function(t,a){return o.a.createElement("tr",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement("td",null,e.nomor),o.a.createElement("td",null,e.tutor),o.a.createElement("td",null,e.Deskripsi," . . ."),o.a.createElement("td",null,e.judul),o.a.createElement("td",null,o.a.createElement("a",{href:e.link_video},e.link_video)))}))}))})),ve=function(){E.a.get("/video_materi").then((function(e){F(e.data)}))};return Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(),E.a.get("/bab_soal?id_mapel=1").then((function(e){G(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),""!==re&&E.a.get("/subBab_soal?id_bab="+re).then((function(e){A(e.data)})),j&&(ve(),O(!1))}),[re,j]),o.a.createElement("div",{className:b.a.container},n?fe:_e)}},960:function(e,t,a){e.exports={container:"styles_container__mKMpn",panel_input_review:"styles_panel_input_review__1CGhU",editor_style:"styles_editor_style__8pyD7"}}}]);
//# sourceMappingURL=83.367d6a24.chunk.js.map